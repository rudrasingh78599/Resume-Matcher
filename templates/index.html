<!DOCTYPE html>
<html>
<head>
    <title>Resume Matcher</title>
</head>
<body>

<h2>Upload Resume Folder</h2>

<form method="post" enctype="multipart/form-data">
    <textarea name="job_description" placeholder="Enter Job Description" rows="5" cols="60" required></textarea>
    <br><br>

    <label>Select Folder of Resumes (.pdf or .txt)</label><br>
    <input type="file" name="resumes" webkitdirectory directory multiple required>

    <br><br>
    <button type="submit">Match Resumes</button>
</form>

<br>

{% if error %}
    <p style="color:red">{{ error }}</p>
{% endif %}

{% if results %}
    <h2>Top Matching Resumes</h2>
    <table border="1" cellpadding="10">
        <tr>
            <th>Rank</th>
            <th>Resume</th>
            <th>Match %</th>
            <th>Preview</th>
        </tr>
        {% for r in results %}
        <tr>
            <td>{{ r.rank }}</td>
            <td>{{ r.filename }}</td>
            <td>{{ r.score }}%</td>
            <td>{{ r.preview }}</td>
        </tr>
        {% endfor %}
    </table>
{% endif %}

</body>
</html>
